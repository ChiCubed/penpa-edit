/*! @license candle.js v0.9.0-beta1 (c) 2011-2026 sabo2, MIT license
 *   https://bitbucket.org/sabo2/candle */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(function(){try{return require("canvas")}catch(t){}}()):"function"==typeof define&&define.amd?define(["canvas"],e):"object"==typeof exports?exports.Candle=e(function(){try{return require("canvas")}catch(t){}}()):t.Candle=e(t.canvas)}(this,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={node:"object"===i(t)&&"object"===("undefined"==typeof process?"undefined":i(process)),browser:"object"===("undefined"==typeof document?"undefined":i(document))&&"object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof location?"undefined":i(location))}}).call(this,i(2)(t))},function(t,e,i){t.exports=i(4)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(e,i){if(void 0===t){var n=new Error("Cannot find module 'canvas'");throw n.code="MODULE_NOT_FOUND",n}e.exports=t},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function l(){if(this.parentNode){var t=this.parentNode._children,e=t.indexOf(this);return e>=0?t[e+1]:null}}function u(t){t.parentNode&&t.parentNode.removeChild(t),this._children.push(t),t.parentNode=this}function h(t){var e=this._children.indexOf(t);return e>=0&&(this._children.splice(e,1),t.parentNode=null),t}function c(t,e){t.parentNode&&t.parentNode.removeChild(t);var i=-1;e&&(i=this._children.indexOf(e)),-1===i?this.appendChild(t):this._children.splice(i,0,t)}function f(t,e){t=(t=(t=t.replace(/\*/g,"[^/]+")).replace(/([\w#]+|\*)/g,"[^/]*$1[^/]*")).replace(/\s+/g,"/([^/]+/)?"),t=new RegExp(t+"[^/]*$");for(var i=this.firstChild?[this.firstChild]:[],n=[];i.length>0;){var r=i.pop();if(y(r,this).match(t)&&(n.push(r),e))break;r.nextSibling&&i.push(r.nextSibling),r.childNodes.length>0&&i.push(r.firstChild)}return n}function d(t){return f.call(this,t,!1)}function p(t){return f.call(this,t,!0)[0]||null}function y(t,e){for(var i="";t&&t!==e;){var n="";t.createElement||(n=t.tagName+(t._attr.id?"#"+t._attr.id:"")),i=n+(i?"/"+i:""),t=t.parentNode}return i}function v(){return this._children.reduce((function(t,e,i,n){return t+e.outerHTML}),"")}function g(){var t=this.tagName,e="",i="";for(var n in this._attr)e+=" "+n+'="'+this._attr[n]+'"';for(var r in this.style)i+=r+":"+this.style[r]+";";return i&&(e+=' style="'+i+'"'),0===this._children.length?"<"+t+e+"/>":"<"+t+e+">"+this.innerHTML+"</"+t+">"}function b(t,e){for(;;){var i=e.match(/^\s*([^:]+?):([^;]+?);?/);if(!i)break;t.style[i[1]]=i[2],e=RegExp["$'"]}}function m(t,e){var i=[t];return e.split(/(<.+?>)/g).forEach((function(t){var e=i[i.length-1],n=null;if(!t.match(/^<\?xml/))if(t.match(/^<\w/)){var r=t.match(/<(\w+)\s*(.*)\/?>/);(function(t,e){for(;;){var i=e.match(/^\s*([\w\-\:]+)(\=)?(?:['"](.+?)['"]|([^\s]+))?\s*/);if(!i)break;var n=i[1],r=i[3]||i[4]||"";e=RegExp["$'"],n&&("="===i[2]?"style"!==n?t.setAttribute(n,r):t.style=b(t,r):t.setAttribute(n,!0))}})(n=new k(r[1]),r[2]),e.appendChild(n),t.match(/\/>$/)||i.push(n)}else if(t.match(/^<\//))i.pop();else{if(t.match(/^[\s\t\r\n]*$/))return;e.appendChild(new x(t))}})),t}i.r(e);var k=function(){return s((function t(e){r(this,t),this.tagName=e,this._attr={},this.style={},this._children=[],this.parentNode=null}),[{key:"nodeType",get:function(){return 1}},{key:"nodeName",get:function(){return this.tagName}},{key:"firstChild",get:function(){return this._children[0]}},{key:"lastChild",get:function(){return this._children[this._children.length-1]}},{key:"childNodes",get:function(){return this._children}},{key:"nextSibling",get:function(){return l.call(this)}},{key:"appendChild",value:function(t){u.call(this,t)}},{key:"removeChild",value:function(t){return h.call(this,t)}},{key:"insertBefore",value:function(t,e){c.call(this,t,e)}},{key:"setAttribute",value:function(t,e){this._attr[t]=e}},{key:"setAttributeNS",value:function(t,e,i){this._attr[e]=i}},{key:"getAttribute",value:function(t){return t in this._attr?this._attr[t]:null}},{key:"getAttributeNS",value:function(t,e){return e in this._attr?this._attr[e]:null}},{key:"removeAttribute",value:function(t){delete this._attr[t]}},{key:"id",get:function(){return this._attr.id||""}},{key:"innerHTML",get:function(){return v.call(this)}},{key:"outerHTML",get:function(){return g.call(this)}},{key:"textContent",get:function(){return this.innerHTML.replace(/<.+?>/g,"")},set:function(t){var e=this;this._children.forEach((function(t){return e.removeChild(t)})),this.appendChild(new x(t))}},{key:"querySelector",value:function(t){return p.call(this,t)}},{key:"querySelectorAll",value:function(t){return d.call(this,t)}}])}(),x=function(){return s((function t(e){r(this,t),this.data=e,this._attr={},this.parentNode=null}),[{key:"nodeType",get:function(){return 3}},{key:"nodeName",get:function(){return"#text"}},{key:"firstChild",get:function(){return null}},{key:"childNodes",get:function(){return[]}},{key:"nextSibling",get:function(){return l.call(this)}},{key:"outerHTML",get:function(){return this.data}}])}(),S=function(){return s((function t(){r(this,t),this._children=[]}),[{key:"nodeType",get:function(){return 9}},{key:"nodeName",get:function(){return"#document"}},{key:"createElement",value:function(t){return new k(t)}},{key:"createElementNS",value:function(t,e){return new k(e)}},{key:"createTextNode",value:function(t){return new x(t)}},{key:"firstChild",get:function(){return this._children[0]}},{key:"lastChild",get:function(){return this._children[this._children.length-1]}},{key:"childNodes",get:function(){return this._children}},{key:"appendChild",value:function(t){u.call(this,t)}},{key:"removeChild",value:function(t){return h.call(this,t)}},{key:"insertBefore",value:function(t,e){c.call(this,t,e)}},{key:"innerHTML",get:function(){return v.call(this)}},{key:"outerHTML",get:function(){return v.call(this)}},{key:"querySelector",value:function(t){return p.call(this,t)}},{key:"querySelectorAll",value:function(t){return d.call(this,t)}},{key:"getElementById",value:function(t){return this.querySelector("#"+t)}}])}(),w=function(){};w.prototype.serializeToString=function(t){return t.outerHTML};var A=function(){};A.prototype.parseFromString=function(t,e){return m(new S,t)};var _={document:new S,XMLSerializer:w,DOMParser:A},P=i(0),L="undefined"!=typeof document?document:_.document,C=null,T={document:L,init:function(){if(!C&&"undefined"!=typeof window){var t=L.createElement("div");t.style.display="inline",t.style.position="absolute",t.style.top="0px",t.style.left="-9000px",t.innerHTML="",L.body.appendChild(t),void 0!==t.offsetHeight?C=t:L.body.removeChild(t)}},getoffsetHeight:function(t,e){var i;if(e.match(/(.+\s)?([0-9]+)px (.+)$/))i=+RegExp.$2;else if(C){var n=C;n.style.font=e,n.style.lineHeight="100%",n.innerHTML=t,i=n.offsetHeight}return i},getRectSize:function(t){return{width:t.offsetWidth||t.clientWidth||0,height:t.offsetHeight||t.clientHeight||0}}};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function O(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}var R=-1,z=function(){return t=function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fillStyle="black",this.strokeStyle="black",this.lineWidth=1,this.font="14px system",this.textAlign="center",this.textBaseline="middle",this.canvas=e,this.canvasid="_candle_"+ ++R,this.child=null,this.enableTextLengthWA=!1,this.canvas.getContext=function(t){return i},this.use={}},(e=[{key:"init",value:function(){this.initElement(),this.initFunction(),this.initLayer()}},{key:"rectcenter",value:function(t,e,i,n){this.rect(t-i,e-n,2*i,2*n)}},{key:"fillRectCenter",value:function(t,e,i,n){this.fillRect(t-i,e-n,2*i,2*n)}},{key:"strokeRectCenter",value:function(t,e,i,n){this.strokeRect(t-i,e-n,2*i,2*n)}},{key:"shapeRectCenter",value:function(t,e,i,n){this.shapeRect(t-i,e-n,2*i,2*n)}},{key:"vhide",value:function(){}}])&&j(t.prototype,e),i&&j(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,i}();function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N(n.key),n)}}function N(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:e+""}function D(t,e,i){return e=B(e),function(t,e){if(e&&("object"==W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,i||[],B(t).constructor):e.apply(t,i))}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var H,I=T.document,$=P.a.browser,V=!(void 0===I||!I.createElementNS||"object"===("undefined"==typeof window?"undefined":W(window))&&window.opera),q="http://www.w3.org/2000/svg",U="http://www.w3.org/1999/xlink",F=(H=$&&navigator.userAgent||"").match(/Trident\//)||H.match(/Safari\//)&&H.match(/Edge\//);function X(t){return I.createElementNS(q,t)}var K=2*Math.PI,J={left:"start",center:"middle",right:"end"},Q=function(){var t="undefined"!=typeof navigator&&navigator.userAgent||"";return t.match(/Chrome/)?{"candle-top":-.72,top:-.95,hanging:-.72,middle:-.35,alphabetic:0,bottom:.25}:t.match(/AppleWebKit/)?{"candle-top":-.7,top:-.9,hanging:-.9,middle:-.35,alphabetic:0,bottom:.25}:t.match(/Trident/)?{"candle-top":-.74,top:-1.02,hanging:-1.02,middle:-.32,alphabetic:0,bottom:.45}:t.match(/Win/)?{"candle-top":-.7,top:-.85,hanging:-.85,middle:-.34,alphabetic:0,bottom:.15}:{"candle-top":-.76,top:-.9,hanging:-.9,middle:-.38,alphabetic:0,bottom:.08}}(),Y={WrapperClass:function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=D(this,e,[t])).use=i.getTypeList(),i.lineDash=null,i.transform="",i.stateStack=[],i.vid="",i.elements={},i._textcache={},i.isGroup=!1,i.groupSize={},i.textGroupSize={},i.target=null,i.layers={},i._layerid="",i.cpath=[],i.lastpath="",i.freezepath=!1,i.enableTextLengthWA=F,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),function(t,e,i){return e&&M(t.prototype,e),i&&M(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getTypeList",value:function(){return{}}},{key:"initElement",value:function(){$&&(this.canvas.style.overflow="hidden");var t=T.getRectSize(this.canvas),e=this.child=I.createElementNS(q,"svg");e.setAttribute("xmlns",q),e.setAttribute("xmlns:xlink",U),e.setAttribute("font-size","10px"),e.setAttribute("font-family","sans-serif"),e.setAttribute("width",t.width),e.setAttribute("height",t.height),e.setAttribute("viewBox",[0,0,t.width,t.height].join(" ")),this.canvas.appendChild&&this.canvas.appendChild(e)}},{key:"initFunction",value:function(){var t='<?xml version="1.0" encoding="UTF-8"?>\n';function e(t){return(t.outerHTML||(new _.XMLSerializer).serializeToString(t)).replace(/^<\?xml.+?\?>[\r\n]*/,"")}var i=this.child;this.canvas.toDataURL=function(t,n){return"data:image/svg+xml;base64,"+(r=e(i),$?window.btoa(r):Buffer.isBuffer(r)?r.toString("base64"):new Buffer(r.toString(),"binary").toString("base64"));var r},this.canvas.toBlob=function(n,r,o){n(new Blob([t+e(i)],{type:"image/svg+xml"}))},this.canvas.toBuffer=function(n,r){return t+e(i)}}},{key:"initLayer",value:function(){this.setLayer();var t=T.getRectSize(this.canvas);this.rect(0,0,t.width,t.height),this.addVectorElement(!1,!1)}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){for(var e=this.child,i=e.firstChild;i;)e.removeChild(i),i=e.firstChild;this.vid="",this.groupSize={},this.isGroup=!1,this.elements={},this.layers={},this.target=this.child,this.setLayer(),this._textcache={}}else for(var n=[this.child],r=this.child.firstChild;r;){for(;r&&"G"===r.nodeName.toUpperCase();)n.push(r),r=r.firstChild;if(r){var o=r.nextSibling;"none"===r.getAttribute("display")?r.hasAttribute("data-vid")||n.at(-1).removeChild(r):this.hide(r),r=o}for(;!r&&n.length>0;)r=n.pop().nextSibling}}},{key:"setLayer",value:function(t,e){if(e=e||{},this.vid="",this.isGroup=!1,t){var i=this.layers[t];i||(i=this.layers[t]=X("g"),this.child.appendChild(i)),this._layerid=t,this.target=i}else this._layerid="",this.target=this.child;e.rendering&&this.setRendering(e.rendering),this.freezepath=!!e&&e.freeze}},{key:"layer",get:function(){return this._layerid},set:function(t){this.setLayer(t)}},{key:"setRendering",value:function(t){this.target.setAttribute("shape-rendering",t)}},{key:"changeSize",value:function(t,e){$&&(this.canvas.style.width=t+"px",this.canvas.style.height=e+"px");var i=this.child;i.setAttribute("width",t),i.setAttribute("height",e);var n=i.getAttribute("viewBox").split(/ /);i.setAttribute("viewBox",[n[0],n[1],t,e].join(" "))}},{key:"save",value:function(){for(var t={},e=0,i=["transform","font","textAlign","textBaseline","fillStyle","strokeStyle","lineWidth","lineDash","lineDashOffset","lineCap"];e<i.length;e++){var n=i[e];t[n]=this[n]}this.stateStack.push(t)}},{key:"restore",value:function(){var t=this.stateStack.pop();for(var e in t)this[e]=t[e]}},{key:"translate",value:function(t,e){this.transform+=" translate(".concat(t," ").concat(e,")")}},{key:"rotate",value:function(t){this.transform+=" rotate(".concat(180*t/Math.PI,")")}},{key:"scale",value:function(t,e){this.transform+=" scale(".concat(t," ").concat(e,")")}},{key:"beginPath",value:function(){this.cpath=[],this.lastpath=""}},{key:"closePath",value:function(){this.cpath.push("z"),this.lastpath="z"}},{key:"moveTo",value:function(t,e){this.cpath.push("M",t,e),this.lastpath="M"}},{key:"lineTo",value:function(t,e){"L"!==this.lastpath&&this.cpath.push("L"),this.cpath.push(t,e),this.lastpath="L"}},{key:"rect",value:function(t,e,i,n){this.cpath.push("M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"z"),this.lastpath="z"}},{key:"arc",value:function(t,e,i,n,r,o){var s,a,l,u,h=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];r-n>=K?(s=t+i,a=e,l=t+i,u=e):(s=t+i*Math.cos(n),a=e+i*Math.sin(n),l=t+i*Math.cos(r),u=e+i*Math.sin(r)),r-n>=K&&(a+=.125);var c=n>r!=Math.abs(r-n)>Math.PI,f=o^c?1:0,d=0===f^c?1:0;this.cpath.push(h?"M":"L",s,a,"A",i,i,0,f,d,l,u),this.lastpath="A"}},{key:"fill",value:function(){this.addVectorElement(!0,!1)}},{key:"stroke",value:function(){this.addVectorElement(!1,!0)}},{key:"shape",value:function(){this.addVectorElement(!0,!0)}},{key:"fillRect",value:function(t,e,i,n){var r=this.cpath;this.cpath=[],this.rect(t,e,i,n),this.addVectorElement(!0,!1),this.cpath=r}},{key:"strokeRect",value:function(t,e,i,n){var r=this.cpath;this.cpath=[],this.rect(t,e,i,n),this.addVectorElement(!1,!0),this.cpath=r}},{key:"shapeRect",value:function(t,e,i,n){var r=this.cpath;this.cpath=[],this.rect(t,e,i,n),this.addVectorElement(!0,!0),this.cpath=r}},{key:"setLineDash",value:function(t){t&&t.length>0?this.lineDash=t.join(" "):this.lineDash=null}},{key:"setLinePath",value:function(){for(var t=arguments,e=t.length,i=e-(1|e?1:2),n=[],r=0;r<i;r+=2)n[r>>1]=[t[r],t[r+1]];this.beginPath(),this.setLinePath_com.call(this,n),t[e-1]&&this.cpath.push("z")}},{key:"setOffsetLinePath",value:function(){for(var t=arguments,e=t.length,i=e-(1|e?1:2),n=[],r=0;r<i-2;r+=2)n[r>>1]=[t[r+2]+t[0],t[r+3]+t[1]];this.beginPath(),this.setLinePath_com.call(this,n),t[e-1]&&this.cpath.push("z")}},{key:"setLinePath_com",value:function(t){for(var e=0,i=t.length;e<i;e++)this.cpath.push(0===e?"M":"L"),this.cpath.push(t[e][0],t[e][1])}},{key:"strokeLine",value:function(t,e,i,n){var r=this.cpath;this.cpath=["M",t,e,"L",i,n],this.addVectorElement(!1,!0),this.cpath=r}},{key:"strokeDashedLine",value:function(t,e,i,n,r){var o=this.cpath;this.cpath=["M",t,e,"L",i,n],this.addVectorElement(!1,!0).setAttribute("stroke-dasharray",r.join(" ")),this.cpath=o}},{key:"strokeCross",value:function(t,e,i){var n=this.cpath;this.cpath=["M",t-i,e-i,"L",t+i,e+i,"M",t-i,e+i,"L",t+i,e-i],this.addVectorElement(!1,!0),this.cpath=n}},{key:"fillCircle",value:function(t,e,i){var n=this.cpath;this.cpath=[],this.arc(t,e,i,0,K,!1),this.cpath.push("z"),this.addVectorElement(!0,!1),this.cpath=n}},{key:"strokeCircle",value:function(t,e,i){var n=this.cpath;this.cpath=[],this.arc(t,e,i,0,K,!1),this.cpath.push("z"),this.addVectorElement(!1,!0),this.cpath=n}},{key:"shapeCircle",value:function(t,e,i){var n=this.cpath;this.cpath=[],this.arc(t,e,i,0,K,!1),this.cpath.push("z"),this.addVectorElement(!0,!0),this.cpath=n}},{key:"getDefsElement",value:function(){var t=this.child.querySelector("defs");return t||(t=I.createElementNS(q,"defs"),this.child.insertBefore(t,this.child.firstChild||null)),t}},{key:"getImageElement",value:function(t){for(var e=this.getDefsElement(),i=null,n=e.querySelectorAll("image"),r=0;r<n.length;r++)if(n[r].getAttributeNS(U,"href")===t.src){i=n[r];break}return i||((i=X("image")).setAttribute("id",(i.ownerDocument?this.canvasid+"_":"")+"img"+n.length),i.setAttribute("width",t.width),i.setAttribute("height",t.height),i.setAttributeNS(U,"xlink:href",t.src),e.appendChild(i)),i}},{key:"getImageSymbol",value:function(t,e,i,n,r){for(var o=this.getDefsElement(),s=[e,i,n,r].join(" "),a=null,l=o.querySelectorAll("symbol"),u=0;u<l.length;u++)if(l[u].getAttribute("viewBox")===s){a=l[u];break}if(!a){(a=I.createElementNS(q,"symbol")).setAttribute("id",(a.ownerDocument?this.canvasid+"_":"")+"symimg"+l.length),a.setAttribute("viewBox",s);var h=I.createElementNS(q,"use");h.setAttributeNS(U,"xlink:href","#"+this.getImageElement(t).getAttribute("id")),a.appendChild(h),o.appendChild(a)}return a}},{key:"fillText",value:function(t,e,i,n){var r=this.reify_vid_text(),o=r?this.elements[r]:null;if(t&&this.fillStyle&&"none"!==this.fillStyle){var s=this.fillText_main(o,t,e,i,"");!o&&r&&(this.elements[r]=s,s.setAttribute("data-vid",r))}else o&&this.hide(o);this._step_vid(!0)}},{key:"fillText_main",value:function(t,e,i,n,r){var o=this.reify_vid_text(),s=!t,a=o&&this._textcache[o]||{};if(s?t=X("text"):this.show(t),t.getAttribute("fill")!==this.fillStyle&&t.setAttribute("fill",this.fillStyle),a.x!==i||a.y!==n||a.ml!==r||a.ta!==this.textAlign||a.tb!==this.textBaseline||a.font!==this.font){var l=n-T.getoffsetHeight(e,this.font)*Q[this.textBaseline.toLowerCase()],u=J[this.textAlign.toLowerCase()];t.getAttribute("x")!==i&&t.setAttribute("x",i),t.getAttribute("y")!==l&&t.setAttribute("y",l),t.getAttribute("text-anchor")!==u&&t.setAttribute("text-anchor",u),(t.getAttribute("textLength")||"")!==r&&(r?(t.setAttribute("textLength",r),t.setAttribute("lengthAdjust","spacingAndGlyphs")):(t.removeAttribute("textLength"),t.removeAttribute("lengthAdjust"))),a.x=i,a.y=n,a.ml=r,a.ta=this.textAlign,a.tb=this.textBaseline}if(a.font!==this.font){if(this.font.match(/(.+\s)?([0-9.]+)px (.+)$/)){var h=RegExp.$1,c=RegExp.$2,f=RegExp.$3;t.setAttribute("font-size",c),f.match(/^sans\-serif$/i)?t.removeAttribute("font-family"):t.setAttribute("font-family",f),h.match(/(italic|oblique)/)?t.setAttribute("font-style",RegExp.$1):t.removeAttribute("font-style"),h.match(/(bold|bolder|lighter|[1-9]00)/)?t.setAttribute("font-weight",RegExp.$1):t.removeAttribute("font-weight")}else t.setAttribute("font",this.font);a.font=this.font}var d=this.transform;if(a.transform!==d&&(d?t.setAttribute("transform",d):t.removeAttribute("transform"),a.transform=d),t.textContent!==e&&(t.textContent=e),o&&(this._textcache[o]=a),s&&this.target.appendChild(t),F&&this.enableTextLengthWA&&("center"===a.ta||"right"===a.ta)&&r){t.removeAttribute("textLength");var p=t.getBoundingClientRect();t.setAttribute("x",a.x+(p.width-r)/("center"===a.ta?2:1)),t.setAttribute("textLength",r)}return t}},{key:"text",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,r=parseFloat(this.font.split("px")[0]);this.fillText(t,e,i+.28*r,n)}},{key:"arrow",value:function(t,e,i,n,r){var o=i-t,s=n-e,a=Math.sqrt(o*o+s*s),l=s/a,u=o/a,h=[];h.push(0,0);for(var c=0;c<r.length;c+=2){var f=r[c],d=r[c+1];h.push(f<0?a+f:f,d)}h.push(a,0);for(var p=r.length;p>0;p-=2){var y=r[p-2],v=r[p-1];h.push(y<0?a+y:y,-v)}h.push(0,0);for(var g=0;g<h.length;g+=2){var b=h[g]*u-h[g+1]*l+t,m=h[g]*l+h[g+1]*u+e;0===g?this.moveTo(b,m):this.lineTo(b,m)}}},{key:"drawImage",value:function(t,e,i,n,r,o,s,a,l){var u=this.reify_vid(),h=u?this.elements[u]:null;if(t){void 0===n&&(n=t.width,r=t.height),void 0===o&&(o=e,e=0,s=i,i=0,a=n,l=r);var c=this.drawImage_main(h,t,e,i,n,r,o,s,a,l);!h&&u&&(this.elements[u]=c,c.setAttribute("data-vid",u))}else h&&this.hide(h);this._step_vid()}},{key:"drawImage_main",value:function(t,e,i,n,r,o,s,a,l,u){var h=!t;h?t=X("use"):this.show(t);var c=this.getImageSymbol(e,i,n,r,o).getAttribute("id");return t.getAttribute("x")!==s&&t.setAttribute("x",s),t.getAttribute("y")!==a&&t.setAttribute("y",a),t.getAttribute("width")!==l&&t.setAttribute("width",l),t.getAttribute("height")!==u&&t.setAttribute("height",u),t.getAttributeNS(U,"xlink:href")!=="#"+c&&t.setAttributeNS(U,"xlink:href","#"+c),h&&this.target.appendChild(t),t}},{key:"addVectorElement",value:function(t,e){t=t&&!!this.fillStyle&&"none"!==this.fillStyle,e=e&&!!this.strokeStyle&&"none"!==this.strokeStyle;var i=this.reify_vid(),n=i?this.elements[i]:null,r=null;return t||e?(r=this.addVectorElement_main(n,t,e),!n&&i&&(this.elements[i]=r,r.setAttribute("data-vid",i))):n&&this.hide(n),this._step_vid(),r}},{key:"addVectorElement_main",value:function(t,e,i){var n=!t;if(n?((t=X("path")).setAttribute("fill","none"),t.setAttribute("stroke","none")):this.show(t),!this.freezepath||n){var r=this.cpath.join(" "),o=i?this.lineWidth:null,s=i?this.lineDash:null,a=i?this.lineDashOffset:null,l=i?this.lineCap:null;t.getAttribute("d")!==r&&t.setAttribute("d",r),t.getAttribute("stroke-width")!==o&&t.setAttribute("stroke-width",o),t.getAttribute("stroke-dasharray")!==s&&t.setAttribute("stroke-dasharray",s),t.getAttribute("stroke-dashoffset")!==a&&t.setAttribute("stroke-dashoffset",a),t.getAttribute("stroke-linecap")!==l&&t.setAttribute("stroke-linecap",l)}var u=e?this.fillStyle:"none",h=i?this.strokeStyle:"none";t.getAttribute("fill")!==u&&t.setAttribute("fill",u),t.getAttribute("stroke")!==h&&t.setAttribute("stroke",h);var c=this.transform;return t.getAttribute("transform")!==c&&(c?t.setAttribute("transform",c):t.removeAttribute("transform")),n&&this.target.appendChild(t),t}},{key:"reify_vidGroup",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"".concat(t,"[").concat(e,"]").concat(i?".txt":"")}},{key:"reify_vid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t||this.vid,this.isGroup&&(t=this.reify_vidGroup(t,this.groupSize[t])),t}},{key:"reify_vid_text",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t||this.vid,this.isGroup&&(t=this.reify_vidGroup(t,this.textGroupSize[t],!0)),t}},{key:"begin_vidGroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t&&(this.vid=t),this.isGroup=!0,this.oldGroupSize=this.groupSize[this.vid]||0,this.oldTextGroupSize=this.textGroupSize[this.vid]||0,this.groupSize[this.vid]=0,this.textGroupSize[this.vid]=0}},{key:"end_vidGroup",value:function(){for(var t=this.groupSize[this.vid];t<this.oldGroupSize;++t)this.vhide(this.reify_vidGroup(this.vid,t));for(var e=this.textGroupSize[this.vid];e<this.oldTextGroupSize;++e)this.vhide(this.reify_vidGroup(this.vid,e,!0));this.oldGroupSize=0,this.oldTextGroupSize=0,this.vid="",this.isGroup=!1}},{key:"_step_vid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isGroup?t?this.textGroupSize[this.vid]+=1:this.groupSize[this.vid]+=1:this.vid=""}},{key:"vhideGroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=t||this.vid;for(var e=0;e<this.groupSize[t];++e)this.vhide(this.reify_vidGroup(t,e));for(var i=0;i<this.textGroupSize[t];++i)this.vhide(this.reify_vidGroup(t,i,!0))}},{key:"vhide",value:function(t){var e=this.elements[t||this.vid];e&&this.hide(e)}},{key:"show",value:function(t){t.removeAttribute("display")}},{key:"hide",value:function(t){t.setAttribute("display","none")}}])}(z),wrapperType:"svg",isWrapperEnable:V};function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function et(t){var e=function(t,e){if("object"!=Z(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Z(e)?e:e+""}function it(t,e,i){return e=nt(e),function(t,e){if(e&&("object"==Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,i||[],nt(t).constructor):e.apply(t,i))}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ot=T.document,st=P.a.browser,at=null,lt=function(){if(st){var t=ot.createElement("canvas");return!!t.getContext&&(!t.probablySupportsContext||t.probablySupportsContext("2d"))}try{at=i(3)}catch(t){return!1}return!0}(),ut=2*Math.PI,ht=function(){var t="undefined"!=typeof navigator&&navigator.userAgent||"";return t.match(/Chrome/)?-.72:t.match(/AppleWebKit/)?-.7:t.match(/Trident/)?-.74:t.match(/Win/)?-.7:-.76}(),ct={WrapperClass:function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=it(this,e,[t])).context=null,i.use=i.getTypeList(),i.currentLayerId="",i.isedgearray={"":!1},i.isedge=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(e,t),function(t,e,i){return e&&tt(t.prototype,e),i&&tt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getTypeList",value:function(){return{}}},{key:"setkey",value:function(t){return this}},{key:"hidekey",value:function(t){return this}},{key:"release",value:function(t){return this}},{key:"initElement",value:function(){var t=this.child=st?ot.createElement("canvas"):new at;st&&(this.canvas.style.overflow="hidden");var e=T.getRectSize(this.canvas);t.width=e.width,t.height=e.height,st&&(t.style.width=e.width+"px",t.style.height=e.height+"px",this.canvas.appendChild(t)),this.context=t.getContext("2d")}},{key:"initFunction",value:function(){function t(t){return st?window.atob(t):new Buffer(RegExp.$2,"base64").toString("binary")}var e=this.child;this.canvas.toDataURL=function(t,i){return e.toDataURL(t||void 0,i)},this.canvas.toBlob=function(i,n,r){if("function"==typeof e.toBlob)e.toBlob(i,n,r);else{e.toDataURL(n||void 0,r).match(/data:(.*);base64,(.*)/);for(var o=t(RegExp.$2),s=o.length,a=new Uint8Array(s),l=0;l<s;l++)a[l]=o.charCodeAt(l);i(new Blob([a.buffer],{type:RegExp.$1}))}},this.canvas.toBuffer=function(i,n){var r,o=e.toDataURL(i||void 0,n).replace(/^data:image\/\w+?;base64,/,"");if(P.a.node)return new Buffer(o,"base64");if("undefined"!=typeof Uint8Array){var s=t(o);r=new Uint8Array(s.length);for(var a=0;a<s.length;a++)r[a]=s.charCodeAt(a)}else r=t(o);return r}}},{key:"initLayer",value:function(){this.setLayer()}},{key:"clear",value:function(){if(this.setProperties(!0,!0),st){var t=T.getRectSize(this.canvas);this.context.clearRect(0,0,t.width,t.height)}}},{key:"setLayer",value:function(t,e){var i=this.currentLayerId=t||"";this.isedge=this.isedgearray[void 0!==this.isedgearray[i]?i:""],this.setEdgeStyle(),(e=e||{}).rendering&&this.setRendering(e.rendering)}},{key:"setEdgeStyle",value:function(){if(st){var t=this.canvas.style;"imageRendering"in t&&(t.imageRendering="",this.isedge&&(t.imageRendering="pixelated",t.imageRendering||(t.imageRendering="-webkit-optimize-contrast"),t.imageRendering||(t.imageRendering="-moz-crisp-edges"),t.imageRendering||(t.imageRendering="-o-crisp-edges")))}}},{key:"layer",get:function(){return this.currentLayerId},set:function(t){this.setLayer(t)}},{key:"setRendering",value:function(t){this.isedge=this.isedgearray[this.currentLayerId]="crispEdges"===t,this.setEdgeStyle()}},{key:"changeSize",value:function(t,e){if(st){var i=this.canvas;i.style.width=t+"px",i.style.height=e+"px"}var n=this.child;if(st){var r=parseInt(n.style.left),o=parseInt(n.style.top);t+=r<0?-r:0,e+=o<0?-o:0,n.style.width=t+"px",n.style.height=e+"px"}n.width=t,n.height=e}},{key:"save",value:function(){this.context.save()}},{key:"restore",value:function(){this.context.restore()}},{key:"translate",value:function(t,e){this.context.translate(t,e)}},{key:"scale",value:function(t,e){this.context.scale(t,e)}},{key:"rotate",value:function(t){this.context.rotate(t)}},{key:"setProperties",value:function(t,e){t=t&&!!this.fillStyle&&"none"!==this.fillStyle,e=e&&!!this.strokeStyle&&"none"!==this.strokeStyle;var i=this.context;return t&&(i.fillStyle=this.fillStyle),e&&(i.strokeStyle=this.strokeStyle),i.lineCap=this.lineCap,i.lineDashOffset=this.lineDashOffset,i.lineWidth=this.lineWidth,i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,t||e}},{key:"beginPath",value:function(){this.context.beginPath()}},{key:"closePath",value:function(){this.context.closePath()}},{key:"moveTo",value:function(t,e){this.context.moveTo(t,e)}},{key:"lineTo",value:function(t,e){this.context.lineTo(t,e)}},{key:"rect",value:function(t,e,i,n){this.context.rect(t,e,i,n)}},{key:"arc",value:function(t,e,i,n,r,o){this.context.arc(t,e,i,n,r,o)}},{key:"fill",value:function(){this.setProperties(!0,!1)&&this.context.fill()}},{key:"stroke",value:function(){this.setProperties(!1,!0)&&this.context.stroke()}},{key:"shape",value:function(){if(this.setProperties(!0,!0)){var t=this.context;this.fillStyle&&"none"!==this.fillStyle&&t.fill(),this.strokeStyle&&"none"!==this.strokeStyle&&t.stroke()}}},{key:"fillRect",value:function(t,e,i,n){this.setProperties(!0,!1)&&this.context.fillRect(t,e,i,n)}},{key:"strokeRect",value:function(t,e,i,n){this.setProperties(!1,!0)&&this.context.strokeRect(t,e,i,n)}},{key:"shapeRect",value:function(t,e,i,n){if(this.setProperties(!0,!0)){var r=this.context;this.fillStyle&&"none"!==this.fillStyle&&r.fillRect(t,e,i,n),this.strokeStyle&&"none"!==this.strokeStyle&&r.strokeRect(t,e,i,n)}}},{key:"setLineDash",value:function(t){this.context.setLineDash(t)}},{key:"setLinePath",value:function(){for(var t=arguments,e=t.length,i=e-(1|e?1:2),n=[],r=0;r<i;r+=2)n[r>>1]=[t[r],t[r+1]];this.context.beginPath(),this.setLinePath_com.call(this,n),t[e-1]&&this.context.closePath()}},{key:"setOffsetLinePath",value:function(){for(var t=arguments,e=t.length,i=e-(1|e?1:2)-2,n=[],r=0;r<i;r+=2)n[r>>1]=[t[r+2]+t[0],t[r+3]+t[1]];this.context.beginPath(),this.setLinePath_com.call(this,n),t[e-1]&&this.context.closePath()}},{key:"setLinePath_com",value:function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];0===e?this.context.moveTo(n[0],n[1]):this.context.lineTo(n[0],n[1])}}},{key:"strokeLine",value:function(t,e,i,n){if(this.setProperties(!1,!0)){var r=this.context;r.beginPath(),r.moveTo(t,e),r.lineTo(i,n),r.stroke()}}},{key:"strokeDashedLine",value:function(t,e,i,n,r){this.strokeDashedLine=this.context.setLineDash?function(t,e,i,n,r){var o=this.context;this.setProperties(!1,!0)&&(o.beginPath(),o.moveTo(t,e),o.lineTo(i,n),o.setLineDash(r),o.stroke(),o.setLineDash([]))}:function(t,e,i,n,r){r.length%2==1&&(r=r.concat(r));var o=Math.sqrt((i-t)*(i-t)+(n-e)*(n-e)),s=0,a=0,l=null,u=null;if(t!==i&&(u=(l=(n-e)/(i-t))*l+1),this.setProperties(!1,!0)){var h=this.context;for(h.beginPath(),h.moveTo(t,e);s<o;){var c,f;if(null!==l){var d=Math.sqrt(s*s/u);c=t+d,f=e+l*d}else c=t,f=e+s;0==(1&a)?h.moveTo(c,f):h.lineTo(c,f),s+=r[a],++a>=r.length&&(a=0)}h.stroke()}},this.strokeDashedLine(t,e,i,n,r)}},{key:"strokeCross",value:function(t,e,i){if(this.setProperties(!1,!0)){var n=this.context;n.beginPath(),n.moveTo(t-i,e-i),n.lineTo(t+i,e+i),n.moveTo(t-i,e+i),n.lineTo(t+i,e-i),n.stroke()}}},{key:"fillCircle",value:function(t,e,i){if(this.setProperties(!0,!1)){var n=this.context;n.beginPath(),n.arc(t,e,i,0,ut,!1),n.fill()}}},{key:"strokeCircle",value:function(t,e,i){if(this.setProperties(!1,!0)){var n=this.context;n.beginPath(),n.arc(t,e,i,0,ut,!1),n.stroke()}}},{key:"shapeCircle",value:function(t,e,i){if(this.setProperties(!0,!0)){var n=this.context;n.beginPath(),n.arc(t,e,i,0,ut,!1),this.fillStyle&&"none"!==this.fillStyle&&n.fill(),this.strokeStyle&&"none"!==this.strokeStyle&&n.stroke()}}},{key:"fillText",value:function(t,e,i,n){t&&this.setProperties(!0,!1)&&("candle-top"===this.textBaseline&&(i-=T.getoffsetHeight(t,this.font)*ht,this.context.textBaseline="alphabetic"),n?this.context.fillText(t,e,i,n):this.context.fillText(t,e,i))}},{key:"text",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,r=parseFloat(this.font.split("px")[0]);this.fillText(t,e,i+.28*r,n)}},{key:"arrow",value:function(t,e,i,n,r){this.context.arrow(t,e,i,n,r)}},{key:"drawImage",value:function(){arguments[0]&&this.context.drawImage.apply(this.context,arguments)}}])}(z),wrapperType:"canvas",isWrapperEnable:lt};function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yt(n.key),n)}}function pt(t,e,i){return e&&dt(t.prototype,e),i&&dt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function yt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:e+""}for(var vt=[],gt=[],bt={},mt=function(){for(var t=[],e=256;e<512;e++)t[e-256]=e.toString(16).substr(1);return t}(),kt={version:"0.9.0-beta1",env:P.a,document:T.document,XMLSerializer:"undefined"!=typeof XMLSerializer?XMLSerializer:_.XMLSerializer,DOMParser:"undefined"!=typeof DOMParser?DOMParser:_.DOMParser,enable:{},current:"",select:function(t){return!!this.enable[t]&&(this.current=t,!0)},parse:function(t){if(!vt[t])if("rgb("===t.substr(0,4)){var e=t.match(/\d+/g);vt[t]=["#",mt[e[0]],mt[e[1]],mt[e[2]]].join("")}else vt[t]=t;return vt[t]},start:function(t,e,i){var n;if(T.init(),t.getContext)n=t.getContext("2d");else{var r=e;if(this.enable[r]||(r=this.current),!r||!this.enable[r])throw"No canvas environment is installed";(n=new bt[r](t)).init()}i&&i(n)}},xt=pt((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=0,n=gt;i<n.length;i++){var r=n[i];this[r]=r===e}})),St=function(){var t=At[wt];if(t.isWrapperEnable){var e=t.wrapperType;gt.push(e),kt.enable[e]=!0,kt.current||(kt.current=e),bt[e]=t.WrapperClass,t.WrapperClass.prototype.getTypeList=function(){return new xt(e)}}},wt=0,At=[Y,ct];wt<At.length;wt++)St();e.default=kt}]).default}));